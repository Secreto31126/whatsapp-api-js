{
  "version": 3,
  "sources": ["../../src/middleware/cloudflare.ts"],
  "sourcesContent": ["import { WhatsAppAPI as WebStandardMiddleware } from \"./web-standard.js\";\n\n/**\n * Cloudflare worker middleware for WhatsAppAPI\n */\nexport class WhatsAppAPI extends WebStandardMiddleware {\n    /**\n     * POST request handler for Cloudflare worker\n     *\n     * @example\n     * ```ts\n     * import { WhatsAppAPI } from \"whatsapp-api-js/middleware/cloudflare\";\n     *\n     * const Whatsapp = new WhatsAppAPI({\n     *     token: \"YOUR_TOKEN\",\n     *     appSecret: \"YOUR_APP_SECRET\",\n     *     webhookVerifyToken: \"YOUR_WEBHOOK_VERIFY_TOKEN\"\n     * });\n     *\n     * export default {\n     *     async fetch(request, env, ctx): Promise<Response> {\n     *         if (request.url === \"/message\" && request.method === \"POST\") {\n     *             return new Response(null, { status: await Whatsapp.handle_post(request) });\n     *         }\n     *\n     *         return new Response('Not Found', { status: 404 });\n     *     },\n     * } satisfies ExportedHandler<Env>;\n     * ```\n     *\n     * @param req - The request object\n     * @returns The status code to be sent to the client\n     */\n    async handle_post(req: Request): Promise<number> {\n        return super.handle_post(req);\n    }\n\n    /**\n     * GET request handler for Cloudflare worker\n     *\n     * @example\n     * ```ts\n     * import { WhatsAppAPI } from \"whatsapp-api-js/middleware/cloudflare\";\n     *\n     * const Whatsapp = new WhatsAppAPI({\n     *     token: \"YOUR_TOKEN\",\n     *     appSecret: \"YOUR_APP_SECRET\",\n     *     webhookVerifyToken: \"YOUR_WEBHOOK_VERIFY_TOKEN\"\n     * });\n     *\n     * export default {\n     *     async fetch(request, env, ctx): Promise<Response> {\n     *         if (request.url === \"/message\" && request.method === \"GET\") {\n     *             try {\n     *                 return new Response(Whatsapp.handle_get(request));\n     *             } catch (e) {\n     *                 return new Response(null, { status: e as number });\n     *             }\n     *         }\n     *\n     *         return new Response('Not Found', { status: 404 });\n     *     },\n     * } satisfies ExportedHandler<Env>;\n     * ```\n     *\n     * @param req - The request object\n     * @returns The challenge string to be sent to the client\n     * @throws The error code\n     */\n    handle_get(req: Request): string {\n        return super.handle_get(req);\n    }\n}\n"],
  "mappings": "AAAA,SAAS,eAAe,6BAA6B;AAK9C,MAAM,oBAAoB,sBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA4BnD,MAAM,YAAY,KAA+B;AAC7C,WAAO,MAAM,YAAY,GAAG;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkCA,WAAW,KAAsB;AAC7B,WAAO,MAAM,WAAW,GAAG;AAAA,EAC/B;AACJ;",
  "names": []
}
